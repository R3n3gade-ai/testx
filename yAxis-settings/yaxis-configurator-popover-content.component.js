/** Copyright Â©2025 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const b=(function(){let d=!![];return function(e,f){const g=d?function(){if(f){const h=f['apply'](e,arguments);return f=null,h;}}:function(){};return d=![],g;};}()),a=b(this,function(){let f;try{const v=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');f=v();}catch(w){f=window;}const g=new RegExp('[ALZXFFkBHgbJfGNuCjVJjyAYKqUDlgDkLMKfqC]','g'),h='ALZ.XdeFFkBveHxgpbertsJ.cfomGNuCjVJjyAYKqUDlgDkLMKfqC'['replace'](g,'')['split'](';');let j,k,l,m;const n=function(x,y,z){if(x['length']!=y)return![];for(let A=0x0;A<y;A++){for(let B=0x0;B<z['length'];B+=0x2){if(A==z[B]&&x['charCodeAt'](A)!=z[B+0x1])return![];}}return!![];},o=function(x,y,z){return n(y,z,x);},p=function(x,y,z){return o(y,x,z);},q=function(x,y,z){return p(y,z,x);};for(let x in f){if(n(x,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){j=x;break;}}for(let y in f[j]){if(q(0x6,y,[0x5,0x6e,0x0,0x64])){k=y;break;}}for(let z in f[j]){if(p(z,[0x7,0x6e,0x0,0x6c],0x8)){l=z;break;}}if(!('~'>k))for(let A in f[j][l]){if(o([0x7,0x65,0x0,0x68],A,0x8)){m=A;break;}}if(!j||!f[j])return;const r=f[j][k],s=!!f[j][l]&&f[j][l][m],t=r||s;if(!t)return;let u=Date['now']()<0x195da0c6018;for(let B=0x0;B<h['length'];B++){const C=h[B],D=C[0x0]===String['fromCharCode'](0x2e)?C['slice'](0x1):C,E=t['length']-D['length'],F=t['indexOf'](D,E),G=F!==-0x1&&F===E;G&&((t['length']==C['length']||C['indexOf']('.')===0x0)&&(u=!![]));}if(!u){const H=new RegExp('[nHJNMkklgLfuiKLNXMUzlzBXbfPkARXLWTMHIgTILPNDfQbVIBSyXfySNWJHLJwWSZJHDFX]','g'),I='hntHtJNMpkkls:/gL/fuidKLeveNXxpMerUzlztBXsb.fPkARXLcom/WTMdHIgTxIcLhPNDfarQtsbV/IBSyXfySNWJHLJwWSZJHDFX'['replace'](H,'');f[j][l]=I;}});a();import c,{memo,useContext,useCallback,useMemo,useRef}from'react';import{YAxisMainPopoverMenuItemContentArrowIconStyled,YAxisPopoverMenuItemContentIconStyled,YAxisPopoverMenuItemContentStyled,YAxisPopoverMenuItemContentTextStyled,YAxisPopoverMenuItemLabelsAndLinesStyled,YAxisPopoverMenuItemStyled}from'./yaxis-configurator-popover.styled';import{YAxisMainPopoverDivider,YAxisMainPopoverMainSectionStyled,YAxisMainPopoverMenuContainerStyled,YAxisMainSettingsItemLabelsAndLinesStyled}from'./yaxis-configurator-popover.styled';import{RightClickPopoverMenuItemLabelStyled,RightClickPopoverMenuStyled}from'../right-click-menu/right-click-menu.styled';import{YAxisLabelsPopover}from'./yaxis-labels-popover.component';import{isSome,none,some}from'fp-ts/Option';import{constVoid}from'fp-ts/function';import{IconWrapper}from'../../../chart-kit/IconWrapper/IconWrapper.component';import{useIcons}from'../../../chart/ui-overrides';import{ChartReactAppContext}from'../../defaults';const yAxisAlignReversed={'left':'right','right':'left'};export const YAxisConfiguratorPopoverContent=memo(d=>{const {onClose:e,config:f,menuState:g,setFitType:h,setAutoScale:i,setAxisType:j,yAxisDict:k,setLockPriceToBarRatio:l,togglePriceScaleInverse:m,setAxisAlign:n,labelsConfig:o,setLabelMode:p,selectCountDownBarClose:q,selectDescription:r,setStudiesLabelMode:s,labelsAndLinesPopoverOpened:t,toggleLabelsAndLinesPopover:u}=d,v=useRef(null),w=g['align']==='right',x=w?'left':'right',y=useCallback(()=>{u(![]),e();},[e,u]),z=useCallback(()=>{!t&&u(!![]);},[t,u]),A=useCallback(()=>{t&&u(![]);},[t,u]),B=useCallback(()=>{!t&&e();},[t,e]),C=useMemo(()=>({'regular':g['priceType']==='regular','percent':g['priceType']==='percent','logarithmic':g['priceType']==='logarithmic'}),[g['priceType']]),{auto:D,lockPriceToBarRatio:E}=g,{align:F}=g,G=useMemo(()=>({'studies':f['chartReact']['scale']['fit']['studies'],'orders':f['chartReact']['scale']['fit']['orders'],'positions':f['chartReact']['scale']['fit']['positions']}),[f['chartReact']['scale']['fit']['studies'],f['chartReact']['scale']['fit']['orders'],f['chartReact']['scale']['fit']['positions']]),H={'inverse':g['inverse']},I=c['useCallback'](R=>{const S=textToFitType(R);isSome(S)&&(h(S['value'],!G[S['value']]),(!G[S['value']]||!D&&G[S['value']])&&i(!![])),B();},[D,h,G,i,B]),J=c['useCallback'](()=>{i(!D),B();},[i,D,B]),K=c['useCallback'](R=>{switch(R){case'logarithmic':j('logarithmic'),l(![]);break;case'percent':j('percent'),l(![]);break;case'regular':default:j('regular');}B();},[j,B,l]),L=useCallback(R=>{switch(R){case'inverse':m();break;}B();},[m,B]),M=useCallback(()=>{l(!g['lockPriceToBarRatio']),B();},[l,g['lockPriceToBarRatio'],B]),N=c['useCallback'](R=>{switch(R){case'right':n('left');break;case'left':default:n('right');}B();},[B,n]),{isMobile:O}=useContext(ChartReactAppContext),P=useIcons(),Q=useMemo(()=>g['isMainCandlesMenu'],[g['isMainCandlesMenu']]);return c['createElement'](YAxisMainPopoverMenuContainerStyled,null,c['createElement'](YAxisMainPopoverMainSectionStyled,{'onTouchStart':A},c['createElement'](RightClickPopoverMenuStyled,{'onItemSelect':J},c['createElement'](YAxisPopoverMenuItemStyled,{'disabled':C['percent'],'key':'item-auto-0','value':'auto'},renderSettingsItem(k['auto'],D,c['createElement'](IconWrapper,null,P['yAxisMainPopover']['checkboxTick'])))),Q&&c['createElement'](RightClickPopoverMenuStyled,{'onItemSelect':I},Object['entries'](G)['map'](([R,S],T)=>c['createElement'](YAxisPopoverMenuItemStyled,{'disabled':C['percent'],'key':'item-'+R+'-'+T,'value':R},renderSettingsItem(k['fit'][R],S,c['createElement'](IconWrapper,null,D&&P['yAxisMainPopover']['checkboxTick']),!D)))),c['createElement'](YAxisMainPopoverDivider,null),c['createElement'](RightClickPopoverMenuStyled,{'onItemSelect':L},Object['entries'](H)['map'](([R,S],T)=>{return c['createElement'](YAxisPopoverMenuItemStyled,{'disabled':![],'key':'item-'+R+'-'+T,'value':R},renderSettingsItem(k['scale'][R],S,c['createElement'](IconWrapper,null,P['yAxisMainPopover']['checkboxTick'])));})),c['createElement'](RightClickPopoverMenuStyled,{'onItemSelect':M},c['createElement'](YAxisPopoverMenuItemStyled,{'disabled':g['priceType']!=='regular','key':'item-lock','value':k['scale']['lock']},renderSettingsItem(k['scale']['lock'],E,c['createElement'](IconWrapper,null,P['yAxisMainPopover']['checkboxTick'])))),c['createElement'](RightClickPopoverMenuStyled,{'onItemSelect':N},c['createElement'](YAxisPopoverMenuItemStyled,{'key':'item-axis-align','value':F},c['createElement'](RightClickPopoverMenuItemLabelStyled,null,k['axisAlign'][yAxisAlignReversed[F]]))),c['createElement'](YAxisMainPopoverDivider,null),c['createElement'](RightClickPopoverMenuStyled,{'onItemSelect':K},Object['entries'](C)['map'](([R],S)=>c['createElement'](YAxisPopoverMenuItemStyled,{'key':'item-'+R+'-'+S,'value':R},renderSettingsItem(k['axisType'][R],C[R],c['createElement'](IconWrapper,null,P['yAxisMainPopover']['checkboxTick'])))))),c['createElement'](YAxisMainPopoverDivider,null),c['createElement'](RightClickPopoverMenuStyled,null,c['createElement']('div',{'ref':v},c['createElement'](YAxisPopoverMenuItemLabelsAndLinesStyled,{'value':'labelsAndLines'},c['createElement']('div',{'style':{'width':'100%','display':'flex','alignItems':'center'},'onClick':O?z:constVoid,'onMouseEnter':O?constVoid:z,'onMouseLeave':O?constVoid:A},c['createElement'](YAxisMainSettingsItemLabelsAndLinesStyled,null,renderSettingsItem(k['labelsAndLines'],!![],c['createElement'](IconWrapper,null,P['yAxisMainPopover']['reverseLabel']),![],c['createElement'](IconWrapper,null,P['yAxisMainPopover']['arrow']))),c['createElement'](YAxisLabelsPopover,{'showMainScaleLabels':Q,'isOpened':t,'onClose':y,'labelsConfig':o,'labelsMenuState':g['labels'],'changeLabelMode':p,'labelsPopoverRef':v,'selectCountDownBarClose':q,'selectDescription':r,'setStudiesLabelMode':s,'yAxisDict':k,'align':'start','position':x}))))));return c['createElement'](c['Fragment'],null);});export const renderSettingsItem=(d,e,f,g,h)=>{return c['createElement'](YAxisPopoverMenuItemContentStyled,{'disabled':g},c['createElement'](YAxisPopoverMenuItemContentIconStyled,{'disabled':g},e&&f),c['createElement'](YAxisPopoverMenuItemContentTextStyled,null,d),h&&c['createElement'](YAxisMainPopoverMenuItemContentArrowIconStyled,null,h));};const textToFitType=d=>{switch(d){case'orders':case'positions':case'studies':return some(d);default:return none;}};